"use strict";(self.webpackChunkbloksec_docs=self.webpackChunkbloksec_docs||[]).push([[6601],{6945:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var s=i(5893),r=i(1151);const t={id:"integration-cyberark",title:"CyberaArk",sidebar_position:5,createdAt:new Date("2022-03-21T01:36:42.000Z"),updatedAt:new Date("2023-06-15T15:15:38.000Z"),tags:["Integration","CyberArk","SAML2"]},l="OIDC Configuration",o={id:"integrations/integration-cyberark",title:"CyberaArk",description:"BlokSec provides decentralized passwordless authentication to CyberArk Privileged Access Manager solution using either OpenID Connect (OIDC) or Security Assertion Markup Language (SAML) 2.0 authentication standard. BlokSec acts as an identity provider (IdP), authenticating users using strong cryptographic based digital signature that is immutable and tamper-proof.",source:"@site/docs/integrations/cyberark.md",sourceDirName:"integrations",slug:"/integrations/integration-cyberark",permalink:"/docs/integrations/integration-cyberark",draft:!1,unlisted:!1,tags:[{label:"Integration",permalink:"/docs/tags/integration"},{label:"CyberArk",permalink:"/docs/tags/cyber-ark"},{label:"SAML2",permalink:"/docs/tags/saml-2"}],version:"current",sidebarPosition:5,frontMatter:{id:"integration-cyberark",title:"CyberaArk",sidebar_position:5,createdAt:"2022-03-21T01:36:42.000Z",updatedAt:"2023-06-15T15:15:38.000Z",tags:["Integration","CyberArk","SAML2"]},sidebar:"integrationsSidebar",previous:{title:"Salesforce",permalink:"/docs/integrations/integration-salesforce"},next:{title:"Slack",permalink:"/docs/integrations/integration-slack"}},a={},c=[{value:"BlokSec Admin UI",id:"bloksec-admin-ui",level:2},{value:"CybeArk Configuration",id:"cybeark-configuration",level:2},{value:"PVWA Settings",id:"pvwa-settings",level:3},{value:"BlokSec Admin UI",id:"bloksec-admin-ui-1",level:2},{value:"CyberArk Configuration",id:"cyberark-configuration",level:2},{value:"PVWA Settings",id:"pvwa-settings-1",level:3},{value:"SAML Configuration File",id:"saml-configuration-file",level:3}];function d(n){const e={a:"a",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["BlokSec provides decentralized passwordless authentication to CyberArk Privileged Access Manager solution using either ",(0,s.jsx)(e.strong,{children:"OpenID Connect (OIDC)"})," or ",(0,s.jsx)(e.strong,{children:"Security Assertion Markup Language (SAML) 2.0"})," authentication standard. BlokSec acts as an identity provider (IdP), authenticating users using strong cryptographic based digital signature that is immutable and tamper-proof."]}),"\n",(0,s.jsx)(e.h1,{id:"oidc-configuration",children:"OIDC Configuration"}),"\n",(0,s.jsx)(e.h2,{id:"bloksec-admin-ui",children:"BlokSec Admin UI"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Sign into BlokSec admin UI as a user with admin privileges for your tenant"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["On the main dashboard, click the ",(0,s.jsx)(e.strong,{children:"Add Application"})," drop-down and select ",(0,s.jsx)(e.strong,{children:"Create From Template"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"CyberArk OIDC"})," template"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Complete the OIDC configuration with the following values (adjusting if required to meet your desired behaviour)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Name"}),": Change the name if required to meet your organizational requirements"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Session length"}),": Length of the authenticated session. Default value is set to 60 minutes. minutes"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Redirect URI"}),":",(0,s.jsx)(e.a,{href:"https://components.cyberark.local/PasswordVault/api/Auth/OIDC/BlokSec/Token",children:" "}),"https://[CyberArk_PVWA_FQDN]/PasswordVault/api/Auth/OIDC/BlokSec/Token"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"Submit"})," to save the configuration"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Once saved, click back into the newly created application to open the application configuration"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Click ",(0,s.jsx)(e.strong,{children:"Generate App Secret"}),", then make note of the ",(0,s.jsx)(e.strong,{children:"Application ID"})," and ",(0,s.jsx)(e.strong,{children:"Application Secret"})," as these will be required when registering your application with BlokSec"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"cybeark-configuration",children:"CybeArk Configuration"}),"\n",(0,s.jsx)(e.h3,{id:"pvwa-settings",children:"PVWA Settings"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Sign into CyberArk PVWA as a user with admin privileges"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsx)(e.strong,{children:"Administration > OIDC Authentication"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Complete the OIDC configuration with the following values (adjusting if required to meet your desired behaviour)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Display name (optional)"}),": Passwordless Login (change the name if required to meet your organizations requirements)"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Provider ID"}),": BlokSec (change the name if required to meet your organizational requirements)"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Discovery URL"}),": ",(0,s.jsx)(e.a,{href:"https://api.bloksec.io/oidc/.well-known/openid-configuration",children:"https://api.bloksec.io/oidc/.well-known/openid-configuration"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Client ID"}),": Enter the value of ",(0,s.jsx)(e.strong,{children:"Application ID"})," captured in step #6 from BlokSec Admin UI above"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Client Authentication method"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Ensure that Basic is select (as displayed in the image below)"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://s3.us-east-2.amazonaws.com/io.bloksec.static-hosting/docs/nif2trU1veelAxBYDVfyL_screenshot-2022-11-08-at-112734-am.png",alt:""})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Enter the value of ",(0,s.jsx)(e.strong,{children:"Application Secret"})," captured in step #6 from BlokSec Admin UI above"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"User name claim (optional)"}),": preferred_username"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"Enable OpenID provider"})," (as displayed in the image below)\n",(0,s.jsx)(e.img,{src:"https://s3.us-east-2.amazonaws.com/io.bloksec.static-hosting/docs/jAYrqQcMXixU5Fl2DxV0e_screenshot-2022-11-08-at-113321-am.png",alt:""})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"Save"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsx)(e.strong,{children:"Administration > Configuration"})," ",(0,s.jsx)(e.strong,{children:"options,"})," and then select ",(0,s.jsx)(e.strong,{children:"Options"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsx)(e.strong,{children:"Access Restriction"})," and right click to select ",(0,s.jsx)(e.strong,{children:"Add AllowedReferrer"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Properties","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"BaseUrl"}),": ",(0,s.jsx)(e.a,{href:"https://api.bloksec.io",children:"https://api.bloksec.io"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"Apply"})," and then select ",(0,s.jsx)(e.strong,{children:"Ok"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsx)(e.strong,{children:"Authentication"})," **Methods **and select the value of the Provider ID as entered in step #3 above, and update the properties as outlined below:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"DisplayName"}),": Passwordless (or the name of your choice)"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Enabled"}),": Yes"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"Apply"})," and then select ",(0,s.jsx)(e.strong,{children:"Ok"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"saml-configuration",children:"SAML Configuration"}),"\n",(0,s.jsx)(e.h2,{id:"bloksec-admin-ui-1",children:"BlokSec Admin UI"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Sign into BlokSec admin UI as a user with admin privileges for your tenant"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["On the main dashboard, click the ",(0,s.jsx)(e.strong,{children:"Add Application"})," drop-down and select ",(0,s.jsx)(e.strong,{children:"Create From Template"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"CyberArk (SAML)"})," template"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Complete the SAML configuration with the following values (adjusting if required to meet your desired behaviour)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Name"}),": Change the name if required to meet your organizational requirements"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Assertion Consumer Service"}),": https://[resource_name]/PasswordVault/api/auth/saml/logon"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Name ID Format"}),": EmailAddress (change value from drop down if not email address)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Select **Submit **to save the configuration"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"Download"})," and save the metadata file"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"cyberark-configuration",children:"CyberArk Configuration"}),"\n",(0,s.jsx)(e.h3,{id:"pvwa-settings-1",children:"PVWA Settings"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Sign into CyberArk PVWA as a user with admin privileges"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to **Administration > Configuration Options, **and then select ",(0,s.jsx)(e.strong,{children:"Options"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsx)(e.strong,{children:"Access Restriction"})," and right click to select ",(0,s.jsx)(e.strong,{children:"Add AllowedReferrer"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Properties","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"BaseUrl"}),": ",(0,s.jsx)(e.a,{href:"https://api.bloksec.io",children:"https://api.bloksec.io"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"Apply"})," and then select ",(0,s.jsx)(e.strong,{children:"Ok"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to Authentication ",(0,s.jsx)(e.strong,{children:"Methods > saml"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Properties","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"DisplayName"}),": BlokSec Passwordless (or the name of your choice)"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Enabled"}),": Yes"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Select ",(0,s.jsx)(e.strong,{children:"Apply"})," and then select ",(0,s.jsx)(e.strong,{children:"Ok"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"saml-configuration-file",children:"SAML Configuration File"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["From the PasswordVault installation folder, the default location is ",(0,s.jsx)(e.strong,{children:"\\Inetpub\\wwwroot\\PasswordVault"}),", make a copy of the ",(0,s.jsx)(e.strong,{children:"saml.config.template"})," file, and rename the copy to ",(0,s.jsx)(e.strong,{children:"saml.config"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Complete the SAML configuration with the following values (adjusting if required to meet your desired behaviour):"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"ServiceProvider Name"}),": ",(0,s.jsx)(e.a,{href:"https://bloksec.io",children:"https://bloksec.io"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"PartnerIdentityProvider"}),": ",(0,s.jsx)(e.a,{href:"https://boksec.io",children:"https://boksec.io"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"SingleSignOnServiceURL"}),": Enter the value associated to ",(0,s.jsx)(e.strong,{children:"SingleSignOnService Binding"})," tag from the metadata XML. For example,  ",(0,s.jsx)(e.a,{href:"https://api.bloksec.io/sso/SingleSignOnService/605x91de599549f0d870",children:"https://api.bloksec.io/sso/SingleSignOnService/605x91de599549f0d870"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Certificate String"}),": Enter the value associated to ds:X509Certificate tag from the metadata XML"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Save the ",(0,s.jsx)(e.strong,{children:"saml.config"})," file"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"optional--enforce-passwordless-authentication",children:"Optional \u2013 Enforce Passwordless Authentication"}),"\n",(0,s.jsx)(e.p,{children:"By default, CyberArk Privileged Access Management solutionallows users to sign in either with their username and password or an alternative logon option. This behaviour can be changed to mandate passwordless only logging to PVWA. Follow the steps below to enforce passwordless authentication:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Sign into CyberArk PVWA as a user with admin privileges"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsxs)(e.strong,{children:["Administration > Configuration Options, ",(0,s.jsx)(e.strong,{children:"and then select"})," Options"]})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Navigate to ",(0,s.jsx)(e.strong,{children:"Authentication Methods"})," and select an authentication method that is not ",(0,s.jsx)(e.strong,{children:"SAML"})," or ",(0,s.jsx)(e.strong,{children:"OIDC"}),", for example, windows"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Set the value of Properties as below:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Enabled"}),": No"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Repeat steps #3and #4 to disable other authentication options"}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},1151:(n,e,i)=>{i.d(e,{Z:()=>o,a:()=>l});var s=i(7294);const r={},t=s.createContext(r);function l(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);